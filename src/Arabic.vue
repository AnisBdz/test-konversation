<template>
    <div class="chat" >
        <Konversation ref="conversation" :rtl="true" avatar="ğŸ‘¨" timeout="500"/>
    </div>
</template>

<script>

import Konversation from 'konversation-vue'

export default {
    components: { Konversation },

    computed: {
        chat() {
            return this.$refs.conversation
        }
    },

    mounted() {

            this.chat
            .say('Ù…Ø±Ø­Ø¨Ø§')
            .then(() =>   this.chat.say('Ù…Ø§Ù‡Ùˆ Ø¥Ø³Ù…ÙƒØŸ'))
            .then(() =>   this.chat.ask('Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø¥Ø³Ù…Ùƒ'))
            .then(name => this.chat.respond(`Ø¥Ø³Ù…ÙŠ Ù‡Ùˆ ${name}`))

            .then(() =>   this.chat.say('Ù…ØªØ´Ø±ÙÙŠÙ†'))
            .then(() =>   this.chat.say('Ù…Ø§ Ù‡Ùˆ Ø¬Ù†Ø³ÙƒØŸ'))
            .then(() =>   this.chat.ask('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø¥Ø®ØªÙŠØ§Ø±', 'choice', { answers: [ { value: 0, label: 'Ø£Ù†Ø«Ù‰' }, { value: 1, label: 'Ø¯ÙƒØ±' } ]}))
            .then(gndr => this.chat.respond(`Ø£Ù†Ø§ ${gndr.label}`))

            .then(() =>   this.chat.say('Ù†Ø­ØªØ§Ø¬ Ø¨Ø·Ø§Ù‚Ø© ØªØ¹Ø±ÙŠÙ'))
            .then(() =>   this.chat.ask('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„Ù', 'file', { api: 'http://localhost:3000/profile' }))
            .then(file => this.chat.respond('Ù‡Ø§Ù‡Ùˆ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨', [{ label: 'ğŸ’¾ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ¹Ø±ÙŠÙ', href: file }]))

            .then(() =>   this.chat.say('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ù„Ù‚Ø§Ø¡ Ù†Ø¸Ø±Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù', [{ label: 'ğŸ’¾ Ø´Ø±ÙˆØ· Ø§Ù„Ø¥Ø³ØªØ®Ø¯Ø§Ù…', href: 'https://www.bramley.com/BramleyTermsandConditionsofUse.pdf' }]))
    }
}
</script>

<style lang="css">
    body {
        background: #efefef;
    }

    .chat {
        max-width: 600px;
        margin: auto;
        background: white;
        padding: 25px;
        border-radius: 10px;
    }
</style>
